# Vue.js 表单

你可以用 `v-model` 指令在表单 `<input>`、`<textarea>` 及 `<select>` 元素上创建双向数据绑定。它会根据控件类型自动选取正确的方法来更新元素。尽管有些神奇，但 `v-model` 本质上不过是语法糖。它负责监听用户的输入事件以更新数据，并对一些极端场景进行一些特殊处理。<br />
<br />`v-model` 会忽略所有表单元素的 `value`、`checked`、`selected` attribute 的初始值而总是将 Vue 实例的数据作为数据来源。你应该通过 JavaScript 在组件的 `data` 选项中声明初始值。<br />

<a name="g9Vjw"></a>
## 1. 基础用法
<a name="sprB3"></a>
### 文本 input
```html
<input v-model="message" placeholder="edit me">
<p>Message is: {{ message }}</p>
```

<br />![GIF 2020-4-11 17-27-46.gif](https://cdn.nlark.com/yuque/0/2020/gif/1237282/1586597286796-b1b8e8c6-7817-4f64-91d8-24689206a903.gif#align=left&display=inline&height=121&name=GIF%202020-4-11%2017-27-46.gif&originHeight=145&originWidth=385&size=6223&status=done&style=none&width=321)
<a name="v1zKR"></a>
### 多行文本 textarea
```html
<span>Multiline message is:</span>
<p style="white-space: pre-line;">{{ message }}</p>
<br>
<textarea v-model="message" placeholder="add multiple lines"></textarea>
```

![GIF 2020-4-11 17-31-02.gif](https://cdn.nlark.com/yuque/0/2020/gif/1237282/1586597472861-6d1f3b38-47cd-405a-84c9-e009f105b439.gif#align=left&display=inline&height=153&name=GIF%202020-4-11%2017-31-02.gif&originHeight=194&originWidth=385&size=3773&status=done&style=none&width=304)


<a name="9QA8l"></a>
### 复选框
```html
<body>
<div id="app">
  <p>单个复选框：</p>
  <input type="checkbox" id="checkbox" v-model="checked">
  <label for="checkbox">{{ checked }}</label>
	
  <p>多个复选框：</p>
  <input type="checkbox" id="veal" value="Veal" v-model="checkedNames">
  <label for="veal">Veal</label>
  <input type="checkbox" id="google" value="Google" v-model="checkedNames">
  <label for="google">Google</label>
  <input type="checkbox" id="taobao" value="Taobao" v-model="checkedNames">
  <label for="taobao">taobao</label>
  <br>
  <span>选择的值为: {{ checkedNames }}</span>
</div>

<script>
new Vue({
  el: '#app',
  data: {
	checked : false,
    checkedNames: []
  }
})
</script>
</body>
```

<br />![GIF 2020-4-11 17-37-33.gif](https://cdn.nlark.com/yuque/0/2020/gif/1237282/1586597865392-1a065312-b9ae-476f-8160-8d889314b71f.gif#align=left&display=inline&height=189&name=GIF%202020-4-11%2017-37-33.gif&originHeight=262&originWidth=385&size=17758&status=done&style=none&width=278)
<a name="KRM94"></a>
### 单选按钮
```html
<div id="example-4">
  <input type="radio" id="one" value="One" v-model="picked">
  <label for="one">One</label>
  <br>
  <input type="radio" id="two" value="Two" v-model="picked">
  <label for="two">Two</label>
  <br>
  <span>Picked: {{ picked }}</span>
</div>

<script>
new Vue({
  el: '#example-4',
  data: {
    picked: ''
  }
})
</script>
```

<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586598006451-c91f1f87-f715-4049-85b9-7a5879959794.png#align=left&display=inline&height=74&name=image.png&originHeight=100&originWidth=284&size=2813&status=done&style=none&width=210)
<a name="sz5yq"></a>
### 选择框
```html
<div id="example-5">
  <select v-model="selected">
    <option disabled value="">请选择</option>
    <option>A</option>
    <option>B</option>
    <option>C</option>
  </select>
  <span>Selected: {{ selected }}</span>
</div>

<script>
new Vue({
  el: '...',
  data: {
    selected: ''
  }
})
</script>
```

<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/1237282/1586598100142-f2581cd0-b046-4365-970c-ba898815fc09.png#align=left&display=inline&height=46&name=image.png&originHeight=48&originWidth=221&size=1427&status=done&style=none&width=211)
<a name="aZGO9"></a>
## 2. 修饰符
<a name="XtcA0"></a>
### .lazy
在默认情况下，v-model 在每次 input 事件触发后将输入框的值与数据进行同步 (除了上述输入法组合文字时)。你可以添加 lazy 修饰符，从而转为在 change 事件_之后_进行同步：
```html
<!-- 在“change”时而非“input”时更新 -->
<input v-model.lazy="msg">
```

<br />即：输入的时候不会动态更新，输入完成后（失去焦点）才会更新<br />![GIF 2020-4-11 17-50-04.gif](https://cdn.nlark.com/yuque/0/2020/gif/1237282/1586598734548-eb32578a-aa11-4ecf-8292-094043be3aa3.gif#align=left&display=inline&height=79&name=GIF%202020-4-11%2017-50-04.gif&originHeight=101&originWidth=385&size=5758&status=done&style=none&width=301)
<a name="z7t1r"></a>
### .number
如果想自动将用户的输入值转为数值类型，可以给 v-model 添加 number 修饰符：
```html
<input v-model.number="age" type="number">
```
<br />这通常很有用，因为即使在 type="number" 时，HTML 输入元素的值也总会返回字符串。如果这个值无法被 parseFloat() 解析，则会返回原始的值。
<a name="klVN8"></a>
### .trim
如果要自动过滤用户输入的首尾空白字符，可以给 v-model 添加 trim 修饰符：
```html
<input v-model.trim="msg">
```

